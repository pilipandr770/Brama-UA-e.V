{% extends "base.html" %}
{% block content %}
<h2>{{ _('Реєстрація члена ферайну / волонтера') }}</h2>
<div id="consent-step">
  <p><strong>{{ _('Згода на обробку персональних даних (GDPR):') }}</strong></p>
  <p>{{ _('Ваша інформація буде використана лише для членства у ферайні, комунікації, організації волонтерської діяльності та звітності. Дані не передаються третім особам, окрім випадків, передбачених законом. Ви маєте право на доступ, зміну та видалення своїх даних. Детальніше — у') }} <a href="/privacy" target="_blank">{{ _('Політиці конфіденційності') }}</a>.</p>
  <button onclick="showForm()">{{ _('Погоджуюсь') }}</button>
</div>
<form method="post" id="register-form" style="display:none;">
  {{ form.hidden_tag() }}
  
  <div class="form-group">
    {{ form.first_name.label }}*:
    {{ form.first_name(class="form-control") }}
    {% for error in form.first_name.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.last_name.label }}*:
    {{ form.last_name(class="form-control") }}
    {% for error in form.last_name.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.birth_date.label }}*:
    {{ form.birth_date(class="form-control", type="date") }}
    {% for error in form.birth_date.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.specialty.label }}:
    {{ form.specialty(class="form-control") }}
    {% for error in form.specialty.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.join_goal.label }}*:
    {{ form.join_goal(class="form-control") }}
    {% for error in form.join_goal.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.can_help.label }}:
    {{ form.can_help(class="form-control") }}
    {% for error in form.can_help.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.want_to_do.label }}:
    {{ form.want_to_do(class="form-control") }}
    {% for error in form.want_to_do.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.phone.label }}*:
    {{ form.phone(class="form-control") }}
    {% for error in form.phone.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.email.label }}*:
    {{ form.email(class="form-control") }}
    {% for error in form.email.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.password.label }}*:
    {{ form.password(class="form-control") }}
    {% for error in form.password.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.password2.label }}*:
    {{ form.password2(class="form-control") }}
    {% for error in form.password2.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  <div class="form-group">
    {{ form.consent_given }}
    {{ form.consent_given.label }}
    {% for error in form.consent_given.errors %}
      <span class="error">{{ error }}</span>
    {% endfor %}
  </div>
  
  {{ form.submit(class="btn btn-primary") }}
</form>
<script>
function showForm() {
  document.getElementById('consent-step').style.display = 'none';
  document.getElementById('register-form').style.display = 'block';
}
</script>
{% endblock %}
